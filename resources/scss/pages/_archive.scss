// SPDX-License-Identifier: CC BY-NC-SA 4.0

///
/// Archive Page
///
/// Styles für die Comic-Archiv Übersicht (Text & Layout).
///

/*!
 * @file      resources/scss/pages/_archive.scss
 * @link      twokinds.4lima.de
 *
 * @copyright (c) 2025 Felix Maywald. CC BY-NC-SA 4.0
 * @license   https://github.com/RaptorXilef/twokinds.4lima.de/blob/main/LICENSE
 *
 * @author    Felix Maywald (@RaptorXilef)
 * @link      https://github.com/RaptorXilef/twokinds.4lima.de
 */

///
/// @since    5.0.0
/// - Refactoring auf CSS Vars.
/// - style(Linter): Spezifitätsprobleme bei Link-Hover behoben.
/// - style(Linter): Link-Hover Reihenfolge korrigiert.
/// - fix(CSS): Linter-Fehler (no-descending-specificity) durch Umsortierung der Hover-States behoben.
/// - style(Linter): Block-Reihenfolge getauscht (.chapter-links vor .chapter) und Img-Selektoren sortiert.
/// - style(Linter): Interne Reihenfolge von Links und Bildern in .chapter-links korrigiert (Low -> High Specificity).
/// - style(Linter): Theme-Overrides separiert und ans Ende verschoben.
/// - chore(Linter): False-Positive bei Dark-Mode Link-Spezifität global für den Theme-Block ignoriert.
/// - refactor(SCSS): .chapter-links in eigene Komponente ausgelagert.
/// - style(Refactor): Nesting reduziert (Phase 2 Flattening).
///

@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

.chapter {
    margin-bottom: 15px;
    font-size: 14px;
}

.chapter p {
    margin-inline: 0.5rem;
    margin-top: 0.3rem;
    color: var(--text-color);
    text-align: justify;
}

.chapter p a {
    color: var(--text-on-medium); // Im Original Schwarz
}

// Flache Specificity für Dark Mode
body.theme-night .chapter p a {
    color: var(--link-color);
}

.chapter h2 {
    display: inline-block;
    margin: 0;
    font-size: 1.2em;
    color: var(--text-color);
    cursor: pointer;
    border-bottom: 1px solid transparent; // Unsichtbarer Border um Layout-Shifts zu vermeiden

    &:hover {
        color: var(--link-color);
        border-bottom-color: var(--link-color);
    }
}

// Collapsible Arrow
.chapter h2::before {
    display: inline-block;
    margin-right: 5px;
    content: '►';
    transform: rotate(90deg);
    transition: transform 0.2s;
}

.chapter.collapsed h2::before {
    transform: rotate(0deg);
}

// Content visibility
.chapter.collapsed .chapter-links {
    display: none;
}
