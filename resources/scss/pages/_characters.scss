// SPDX-License-Identifier: CC BY-NC-SA 4.0

///
/// Character & Bookmarks Page
///
/// Styles für Charakter-Übersichten und Lesezeichen.
///

/*!
 * @file      resources/scss/pages/_characters.scss
 * @link      twokinds.4lima.de
 *
 * @copyright (c) 2025 Felix Maywald. CC BY-NC-SA 4.0
 * @license   https://github.com/RaptorXilef/twokinds.4lima.de/blob/main/LICENSE
 *
 * @author    Felix Maywald (@RaptorXilef)
 * @link      https://github.com/RaptorXilef/twokinds.4lima.de
 */

///
/// @since    5.0.0
/// - Refactoring.
/// - fix(CSS): word-break deprecated property ersetzt.
/// - style(Linter): Selector Order korrigiert.
/// - style(Linter): Spezifität für Dark Mode Overrides durch Nesting korrigiert.
/// - style(Linter): Theme-Overrides in .char-detail ans Ende verschoben.
/// - style(Linter): Dateistruktur umgestellt (.bookmarks-page vor .char-detail), um absteigende Spezifität zu verhindern.
/// - refactor(CSS): Vollständige Trennung von Basis-Styles und Theme-Overrides.
/// - chore(Linter): False-Positive bei Dark-Mode Spezifität global für den Theme-Block ignoriert.
/// - refactor(SCSS): .tag-page-links entfernt (jetzt in components/_thumbnail-grid.scss).
///

@use '../abstracts/variables' as *;

.charaktere-overview {
    .character-overview-intro {
        margin-bottom: 20px;
        text-align: center;
    }
}

// 1. Character Detail (Base Styles)
.char-detail {
    padding: 10px;
    margin-bottom: 10px;
    color: var(--text-color);
    border-bottom: 1px solid var(--border-medium);

    h3 img {
        vertical-align: middle;
    }

    h3,
    p {
        margin-bottom: 10px;
        text-align: justify;
    }

    img.portrait {
        margin-top: 0;
    }

    .char-info {
        float: left;
        width: 600px;
    }

    .char-img {
        float: left;
        width: 175px;
        margin-right: 20px;
        text-align: center;
    }

    // Villain Section Overrides
    .villain-image-container {
        margin-bottom: 10px;
        text-align: center;
    }

    &.villain-section {
        .char-info {
            float: none; // Da das Bild oben zentriert ist, muss Text nicht fließen (optional, je nach Layout-Wunsch)
            width: 800px; // Überschreibt die standardmäßigen 600px
            margin: auto; // Zentriert den Textblock unter dem Bild
        }
    }

    .villain-group-image {
        width: 800px;
        max-width: 100%;
        height: auto;
    }

    &:last-of-type {
        margin-bottom: 0;
        border: none;
    }
}

/* 2. Bookmarks Page (Base Styles) */
.bookmarks-page {
    .page-header {
        display: flex;
        gap: 12px;
        align-items: center;
        justify-content: center;
        padding-top: 10px;
        margin-bottom: 0;
        font-size: 1.8em;
        font-weight: 300;
        text-align: center;

        strong {
            font-weight: 700;
            color: #333;
        }
    }

    .comic-count-badge {
        display: inline-block;
        padding: 4px 10px;
        font-size: 0.7em;
        font-weight: 700;
        line-height: 1;
        vertical-align: baseline;
        color: #fff;
        text-align: center;
        white-space: nowrap;
        background-color: var(--cookie-btn-accept-bg); // Grün
        border-radius: 12px;
    }

    .bookmark-example {
        display: flex;
        flex-flow: row nowrap;
        gap: 0.5rem;
        align-items: center;
        justify-content: flex-end;
        margin-right: 1rem;
        margin-bottom: 0;
        font-size: 0.9em;
        font-style: italic;
        text-align: center;

        .ribbon {
            flex: 0 0 auto;
            width: 27px;
            height: 36px;
            background: url('#{$base-url}/assets/images/layout/ui/bookmark.png')
                0 0 no-repeat;
            background-size: contain;
        }
    }

    // .tag-page-links ist jetzt global in components/_thumbnail-grid.scss

    .no-bookmarks {
        padding: 2rem 1rem;
        margin: 1rem;
        font-size: 1.2rem;
        color: #666;
        text-align: center;
        border: 2px dashed #ccc;
        border-radius: 5px;

        p {
            margin: 0;
            line-height: 1.5;
        }
    }

    .bookmarks-controls {
        padding-top: 20px;
        margin-top: 20px;
        text-align: center;

        hr {
            height: 1px;
            margin-bottom: 20px;
            background-color: var(--border-light);
            border: 0;
        }

        button {
            padding: 10px 15px;
            margin: 5px;
            font-size: 0.9em;
            color: white;
            cursor: pointer;
            background-color: var(--cookie-btn-accept-bg);
            border: none;
            border-radius: 5px;
            transition: background-color 0.2s;

            &:hover {
                background-color: var(--cookie-btn-accept-hover);
            }
        }

        .hidden-file-input {
            display: none;
        }
    }
}

// 3. Theme Overrides (High Specificity - Grouped at End)
/* stylelint-disable no-descending-specificity */
body.theme-night {
    .char-detail {
        border-bottom-color: var(--button-bg);

        h3 img {
            filter: brightness(1.1);
        }
    }

    .bookmarks-page {
        .page-header strong {
            color: #ddd;
        }

        .comic-count-badge {
            background-color: var(--button-bg);
        }

        .bookmark-example {
            color: #ccc;
        }

        .no-bookmarks {
            color: #ccc;
            border-color: var(--button-bg);
        }

        .bookmarks-controls {
            hr {
                background-color: var(--button-bg);
            }

            button {
                background-color: var(--button-bg);

                &:hover {
                    background-color: var(--border-light);
                }
            }
        }
    }
}
/* stylelint-enable no-descending-specificity */
